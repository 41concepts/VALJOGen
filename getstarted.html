<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="VALJOGen website">
    <meta name="author" content="Morten M. Christensen">
    <meta name="generator" content="nanoc 3.7.3">
    <meta name="google-site-verification" content="JgyXpGofne9xy1_SC2_rhQbvSNPobV7E7IYm30r7QJ8" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <title>VALJOGen website</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/styles.css?v=1.0" rel="stylesheet">

    <script src="js/ie-emulation-modes-warning.js?v=1.0"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">VALJOGen</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Topics <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="index.html"><i class="icon-home"></i> Home</a></li>
                <li><a href="getstarted.html">Getting started</a></li>
                <li><a href="examples.html">Examples</a></li>
                <li><a href="apidocs/index.html" target="_blank">Javadocs</a></li>
                <li><a href="downloads.html">Downloads</a></li>
                <li><a href="contributing.html">Contributing</a></li>
                <li><a href="https://github.com/41concepts/VALJOGen" target="_blank">Source</a></li>
                <li><a href="license.html">License</a></li>
                <li><a href="news-archive.html">News archive</a></li
                <li class="divider"></li>
                <li class="dropdown-header">Source modules</li>
                <li><a href="annotations-readme.html">Annotations module</a></li>
                <li><a href="processor-readme.html">Annotation processor module</a></li>
                <li><a href="integrationtests-readme.html">Integrationtests module</a></li>
                <li><a href="examples-readme.html">Examples module</a></li>
              </ul>
            </li>
          </ul>
        <p class="navbar-text navbar-right"><a id="forkme_banner" href="https://github.com/41concepts/VALJOGen" target="_blank" class="navbar-link">View on GitHub</a></p>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">

        <div class="jumbotron">

<h1 id="get-started-using-valjogen">Get started using VALJOGen</h1>

<p><abbr title="Value Java Object Generator">VALJOGen</abbr> annotations are source-level and needed by compiler only. There are no-runtime dependencies and no libraries that you need to add to your classpath at runtime (unless you explicitly add references yourself to 3rd party code). You do need to add the VALJOGen annotationprocessor jar to your compile path though. Files are available at maven central or can be downloaded manually as noted <a href="downloads.html">here</a></p>

<p>VALJOGen uses standard Java annotation processors (<code>JSR 269</code>) and should work any Java tool running <code>JDK 1.8+</code> with a target of <code>JDK 1.7</code> or later. Below are listed some ways of using VALJOGen with popular tools.</p>

<p><strong>Simple example:</strong></p>

<p>Here is a simple example of how to use a VALJOGen annotation to generate source code for a Java Value Class called SimpleInterfaceImpl:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#080;font-weight:bold">import</span> <span style="color:#B44;font-weight:bold">com.fortyoneconcepts.valjogen.annotations.VALJOGenerate</span>;

<span style="color:#777">/**
* Example that shows how to control the name of the generated implementation class.
*/</span>
<span style="color:#007"><a href="apidocs/com/fortyoneconcepts/valjogen/annotations/VALJOGenerate.html" title="See JavaDoc">@VALJOGenerate</a></span>(name=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">SimpleInterfaceImpl</span><span style="color:#710">&quot;</span></span>)
<span style="color:#088;font-weight:bold">public</span> <span style="color:#339;font-weight:bold">interface</span> <span style="color:#B06;font-weight:bold">SimpleInterfaceWithNamedOutput</span>
{
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">Object</span> getObject();
    <span style="color:#088;font-weight:bold">public</span> <span style="color:#0a8;font-weight:bold">String</span> getString();
}
</pre></div>
</div>
</div>

<p>Refer to the <a href="http://valjogen.41concepts.com/examples.html">collection of examples along with their generated output</a> for output and the full list of examples.</p>

<p><strong>Advice:</strong></p>

<ul>
  <li>It is generally a good idea if you structure your project in multiple modules with your interfaces in a module by itself. You can then use the VALJOGen annotation processor to produce output in the first stage only of a multistage build. Thus you will not have to re-generate the implementation objects unless needed. This saves time and makes it easier to work with generated code.</li>
  <li>Do <strong>not</strong> change the code of the generated classes manually. Instead update the interface, customize and rebuild using the annotation processor to regenerated output with changes.</li>
  <li>Do <strong>not</strong> (normally) check-in generated code in your source repository. If you use git you can configure the .gitignore file for this.</li>
</ul>

</div>

<h2 id="using-valjogen-processor-with-maven">1. Using VALJOGen processor with Maven:</h2>

<p>Use <code>Maven 3.2.0</code> or later and add the dependency which will add the annotation processor and it’s included annotations to your classpath:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>com.41concepts<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>valjogen-annotationprocessor<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;version&gt;</span>1.0.0-RC4<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;optional&gt;</span>true<span style="color:#070;font-weight:bold">&lt;/optional&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
</pre></div>
</div>
</div>

<p>If you are compiling without the annotation processor or using the <code>-processorpath</code> option you may want to add just the annotations:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#070;font-weight:bold">&lt;dependency&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>com.41concepts<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>valjogen-annotations<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;version&gt;</span>1.0.0-RC4<span style="color:#070;font-weight:bold">&lt;/version&gt;</span>
  <span style="color:#070;font-weight:bold">&lt;optional&gt;</span>true<span style="color:#070;font-weight:bold">&lt;/optional&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/dependency&gt;</span>
</pre></div>
</div>
</div>

<p>In both cases the dependency is compile-time only. Unfortunately, there is no good way to specify this with maven but you might get succes marking the dependency as optional as stated above.</p>

<p>In addition you should configure the following for the maven-compiler-plugin:</p>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#070;font-weight:bold">&lt;plugin&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#070;font-weight:bold">&lt;/groupId&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;artifactId&gt;</span>maven-compiler-plugin<span style="color:#070;font-weight:bold">&lt;/artifactId&gt;</span>
   ...
   <span style="color:#070;font-weight:bold">&lt;configuration&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;compilerArgs&gt;</span>
       <span style="color:#070;font-weight:bold">&lt;arg&gt;</span>-parameters<span style="color:#070;font-weight:bold">&lt;/arg&gt;</span>   <span style="color:#777">&lt;!-- Ensure parameter meta data is available for best code generation --&gt;</span>
       <span style="color:#070;font-weight:bold">&lt;arg&gt;</span>-Acom.fortyoneconcepts.valjogen.SOURCEPATH=${basedir}/src/main/java<span style="color:#070;font-weight:bold">&lt;/arg&gt;</span> <span style="color:#777">&lt;!-- Specify where to locate sources --&gt;</span>
     <span style="color:#070;font-weight:bold">&lt;/compilerArgs&gt;</span>
   <span style="color:#070;font-weight:bold">&lt;/configuration&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/plugin&gt;</span>
</pre></div>
</div>
</div>

<p>See also <a href="https://github.com/41concepts/VALJOGen/blob/master/valjogen-examples/standalone.xml">here</a> for a complete example of a maven pom file.</p>

<p>If you are debugging custom templates you may also want to add extra compilerArgs argument like this:</p>

<div><div class="CodeRay">
  <div class="code"><pre>       <span style="color:#070;font-weight:bold">&lt;arg&gt;</span>-Acom.fortyoneconcepts.valjogen.logLevel=INFO<span style="color:#070;font-weight:bold">&lt;/arg&gt;</span>
       <span style="color:#070;font-weight:bold">&lt;arg&gt;</span>-Acom.fortyoneconcepts.valjogen.LOGFILE=${basedir}/target/valjogen.log<span style="color:#070;font-weight:bold">&lt;/arg&gt;</span>
</pre></div>
</div>
</div>

<p>Inside the generated logfile you will then find useful (but a bit complex) dumps of the configuration and models etc.</p>

<h2 id="using-valjogen-with-javac-compiler">2. Using VALJOGen with JavaC compiler:</h2>

<div><div class="CodeRay">
  <div class="code"><pre>javac -parameters -cp valjogen-annotationprocessor-1.0.0-RC4.jar -Acom.fortyoneconcepts.valjogen.SOURCEPATH=SourceDirForYourCode -s DestinationDirForGeneratedSources -d DestinationDirForOutputClasses SourceDirForYourCodeUsingTheAnnotationProcessor.java
</pre></div>
</div>
</div>

<p>The example above makes the annotation processor available on the normal class path, uses the JDK1.8+ <code>-parameter</code> option to enable parameter names processing by the annotation processor and the <code>-Akey[=value]</code> option to let the processor know the source path.</p>

<p>Alternatively, it is possible to compile using the -processorpath option. In this case the classes in the annotation processor is not seen on the classoath so do add the jar file with the VALJOGen annotations on the classpath seperately as shown below.</p>

<div><div class="CodeRay">
  <div class="code"><pre>javac -parameters -cp valjogen-annotations/target/valjogen-annotations-1.0.0-RC4.jar -processorpath ../valjogen-processor/target/valjogen-annotationprocessor-1.0.0-RC4.jar -Acom.fortyoneconcepts.valjogen.SOURCEPATH=SourceDirForYourCode -s DestinationDirForGeneratedSources -d DestinationDirForOutputClasses SourceDirForYourCodeUsingTheAnnotationProcessor.java
</pre></div>
</div>
</div>

<h2 id="using-valjogen-with-eclipse">3. Using VALJOGen with Eclipse:</h2>

<p>Due to <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=382590" title="Eclipse bug 382590">Eclipse bug 382590</a> VALJOGen can not generated correct code when subclassing a generic interface. Apart from this use case the annotation processor works inside Eclipse if you do the following:</p>

<ol>
  <li>In Eclipse first add valjogen-annotations-1.0.0-RC4.jar to the class path.</li>
  <li>Open project Properties/Java Compiler/Annoation Processing, enable Annotation processing and add valjogen-annotationprocessor-1.0.0-RC4.jar as processor.</li>
  <li>Add a key “com.fortyoneconcepts.valjogen.SOURCEPATH” pointing to the source directories for your project.</li>
</ol>

<p><em>Bug 382590 in Eclipse was reported in 2012 and has not been fixed yet. If you want VALJOGen and other annotation processors to work perfectly in eclipse then <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=382590" title="Eclipse bug 382590">please cast your vote for the bug at Eclipse’s bugzilla</a>.</em></p>

<h3 id="using-valjogen-with-eclipse-and-maven-currently-untested">Using VALJOGen with Eclipse and Maven <em>(CURRENTLY UNTESTED)</em>:</h3>

<ol>
  <li>Install Eclipse Luna 4.4+</li>
  <li>Install Eclipse plugin m2e (from eclipses build-in “Luna” update site)</li>
  <li>Install jbosstools’s m2e-apt plugin from (from update site “http://download.jboss.org/jbosstools/updates/m2e-extensions/m2e-apt”)</li>
</ol>

<h2 id="using-valjogen-with-ant-currently-untested">4. Using VALJOGen with ANT <em>(CURRENTLY UNTESTED)</em>:</h2>

<div><div class="CodeRay">
  <div class="code"><pre><span style="color:#070;font-weight:bold">&lt;javac</span> <span style="color:#b48">srcdir</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">${basedir}/src/main/java</span><span style="color:#710">&quot;</span></span>
       <span style="color:#b48">destdir</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">build/classes</span><span style="color:#710">&quot;</span></span>
       <span style="color:#b48">classpath</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">valjogen-annotationprocessor-1.0.0-RC4.jar</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
       <span style="color:#070;font-weight:bold">&lt;compilerarg</span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">-parameters</span><span style="color:#710">&quot;</span></span> <span style="color:#070;font-weight:bold">/&gt;</span>
       <span style="color:#070;font-weight:bold">&lt;compilerarg</span> <span style="color:#b48">value</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">-Acom.fortyoneconcepts.valjogen.SOURCEPATH=${basedir}/src/main/java</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">/&gt;</span>
<span style="color:#070;font-weight:bold">&lt;/javac&gt;</span>
</pre></div>
</div>
</div>

<p>Where basedir is a defined property pointing to the absolute file path of the project.</p>

<h2 id="customizing-generated-value-classes">5. Customizing generated value classes</h2>

<p>VALJOGen output can be customized in a number of ways as listed below (in a order of preference):</p>

<ol>
  <li>Use existing options in VALJOGenerate and VALJOConfigure annotations.</li>
  <li>Specify a BaseClass with your custom code in your VALJOConfigure annotation.</li>
  <li>Subclass the generates class(es) and out your custom stuff there (use VALJOConfigure modifier option to make generated class abstract or non final)</li>
  <li>Add custom method(s) in a custom template group file specified in your VALJOConfigure annotation.</li>
  <li>Override the regions defined in the build-in templates. Do this in a custom template group file specified in your VALJOConfigure annotation.</li>
  <li>Override existing template methods. Do this in a custom template group file specified in your VALJOConfigure annotation</li>
</ol>

<p>See <a href="apidocs/com/fortyoneconcepts/valjogen/annotations/VALJOConfigure.html#customJavaTemplateFileName">VALJOConfigure JavaDocs</a> and the <a href="http://valjogen.41concepts.com/examples.html">examples</a> for details about custom templates. See also the <a href="https://theantlrguy.atlassian.net/wiki/display/ST4/StringTemplate+cheat+sheet">StringTemplate 4 cheat sheet</a> for syntax and general tips.</p>

<h2 id="support">6. Support</h2>
<ul>
  <li><a href="http://valjogen.41concepts.com">Main website</a></li>
  <li>Free <a href="http://groups.google.com/group/valjogen">Google group discussions</a></li>
  <li>Paid email support : valjogen (AT) 41concepts (dot) com</li>
</ul>

<h2 id="about-valjogen-project-internals">7. About VALJOGen project internals</h2>

<p>See <a href="processor-readme.html">readme in annotaton processor project</a> for some implementation details or look at the source.</p>

<p>The <a href="http://valjogen.41concepts.com">VALJOGen website</a> is generated using <a href="http://nanoc.ws/">nanoc</a> using <a href="https://help.github.com/articles/github-flavored-markdown/">github flavored markdown</a> files. See site subproject folder for details.</p>



		<hr />

		<p><div class="footer">Author: <a href="http://www.linkedin.com/in/mortench">Morten M. Christensen</a>, <a href="http://www.41concepts.com">41concepts</a></div></p>

    </div> <!-- /container -->

    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js?v=1.0"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-4042029-6', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>
